<!-- 
<form [formGroup]="gameForm" (ngSubmit)="onSubmit()">
    <input type="text" name="word" id="word" formControlName="word">
    <button type="submit">Beküldés</button>
</form> -->

<div class="container">
    <h1>Extra MEGA menő szólánc</h1>
    @if(players.length > 0 && isJoined) {
        @if (isJoined) {
            @if(players.length > 0 && isJoined) {
                <div id="playerList">
                    <h2>Játékosok:</h2>
                    <ul>
                        @for (player of players; track $index) {
                            <!-- <li>{{ player }}</li> -->
                            <li [class.active]="player === gameState.current_turn_username">{{ player }}</li>
                        }
                    </ul>
                </div>
            }
            @if(gameState) {
                @if(gameState == "tbd") {
                    <div class="info">
                        <p>Az első játékos írjon be egy szót</p>
                    </div>
                } @else {
                    <div class="info">
                        <!-- <p>Következő úriember a soron: <span id="data">{{ gameState.current_turn_username }}</span></p> -->
                        <p>Előző szó: <span id="data">{{ gameState.word }}</span></p>
                        <p>Következő betű: <span id="data">{{ gameState.gameState[0].last_letter }}</span></p>
                    </div>
                }
            }

            <form [formGroup]="gameForm" (ngSubmit)="onAddWord()">
                <label for="word">Következő szó</label>
                <input type="text" name="word" id="word" formControlName="word">
                @if(errorMessage) {
                    <p style="color: red; font-size: 19px;">{{ errorMessage }}</p>
                }
                <button type="submit">Beküldés</button>
            </form>
        }
    
    <!-- 
        <div>
            <h2>Szavak:</h2>
            @if (validWords.length > 0) {
                <ul>
                    @for (word of words; track $index) {
                        <li>{{ word.word }}</li>
                    }
                </ul>
            }
        </div> -->
    
    }
    @if(!isJoined) {
        <form [formGroup]="joinForm" (submit)="onJoinGame()">
            <label for="username">Felhasználónév</label>
            <input type="text" name="username" id="username" formControlName="username" />
            <button type="submit">Csatlakozás</button>
        </form>
    }
</div>

